webpackJsonp([18],{"3MGT":function(t,e){},Tozj:function(t,e,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=_("WgPM"),a={render:function(){var t=this,e=t.$createElement,_=t._self._c||e;return _("div",{class:t.currentClass},[_("div",{staticClass:"content5"},[_("div",{staticClass:"head"},[_("div",{staticClass:"left"},[_("span",[t._v(t._s(t.params.productName))]),t._v(" "),_("span",[t._v("Matte Black Eyeglasses")]),t._v(" "),_("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.value5,callback:function(e){t.value5=e},expression:"value5"}}),t._v(" "),_("el-select",{attrs:{placeholder:"SORT BY"},on:{change:t.sortHandle},model:{value:t.sType,callback:function(e){t.sType=e},expression:"sType"}},t._l(t.sTypeList,function(t){return _("el-option",{key:t.title,attrs:{label:t.title,value:t.sortingId}})}),1)],1),t._v(" "),_("div",{staticClass:"right",on:{click:function(e){t.addComment()}}},[t._v("write a review")])]),t._v(" "),t._l(t.commentList.list,function(e,s){return _("div",{key:s,staticClass:"comment_list"},[_("div",{staticClass:"list_1"},[_("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:e.commentStar,callback:function(_){t.$set(e,"commentStar",_)},expression:"item.commentStar"}})],1),t._v(" "),_("div",{staticClass:"list_2"},[_("span",[t._v(t._s(e.firstName)+t._s(e.lastName)+" In "+t._s(e.payTime))]),t._v(" "),_("span",[t._v("Color: "+t._s(e.productSpecs.Color.split("|")[1])+"; Size: L")])]),t._v(" "),_("div",{staticClass:"list_3"},[t._v(t._s(e.content))]),t._v(" "),_("div",{staticClass:"list_4"},t._l(e.imgList,function(e,s){return _("img",{key:s,attrs:{src:t.imgUrl+e,alt:""}})}),0),t._v(" "),_("div",{staticClass:"list_5"},[_("span",[t._v("Was this review helpful?")]),t._v(" "),e.thumbUp?_("span",{staticClass:"zan_n",on:{click:function(_){t.zanChange(e.commentId,e.productId)}}}):_("span",{staticClass:"zan",on:{click:function(_){t.zanChange(e.commentId,e.productId)}}}),t._v(" "),_("span",[t._v("("+t._s(e.upvoteNum)+")")])])])}),t._v(" "),_("div",{staticClass:"page"},[_("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total},on:{"current-change":function(e){t.handleCurrentChange(e)}}})],1)],2)])},staticRenderFns:[]};var i=function(t){_("3MGT")},n=_("VU/8")(s.a,a,!1,i,"data-v-94d5d440",null);e.default=n.exports},WgPM:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__=__webpack_require__("mvHQ"),__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__=__webpack_require__("Dd8w"),__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__),__WEBPACK_IMPORTED_MODULE_2_vuex__=__webpack_require__("NYxO"),__WEBPACK_IMPORTED_MODULE_3__Ajax_modules_addComment__=__webpack_require__("CDHf");__webpack_exports__.a={name:"commentList",data:function(){return{widthH:"",value5:5,total:10,params:{},orderId:"",page:1,imgUrl:"",sType:5,sTypeList:[],commentList:{},isComment:!1}},created:function(){this.$route.query.params&&(this.params=JSON.parse(this.$route.query.params)),console.log(this.params),this.widthH=this.$root.widthH,this.imgUrl=this.$root.imgUrl,this.getCommentList(this.sType,this.params.productId,this.page,10,this.userId),this.getCommentSortingWay(),this.canYouComment(this.userId,this.params.productId)},methods:{addComment:function(){if(this.isComment){var t=__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},this.params,{orderId:this.orderId});this.$router.push({path:"/addComment",query:{params:__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(t)}})}else this.$alert("Don't comment until the purchase is completed","Tips",{confirmButtonText:"confirm"})},getCommentList:function getCommentList(sType,productId,pageNo,pageSize,userId){var _this2=this,_this=this;Object(__WEBPACK_IMPORTED_MODULE_3__Ajax_modules_addComment__.c)(sType,productId,pageNo,pageSize,userId).then(function(res){0==res.data.code&&(res.data.data.list.forEach(function(item){item.productSpecs=eval("("+item.productSpecs+")")}),_this2.commentList=res.data.data),console.log(_this2.commentList)})},zanChange:function(t,e){var _=this;this.$store.state.userId?Object(__WEBPACK_IMPORTED_MODULE_3__Ajax_modules_addComment__.e)(this.userId,t).then(function(t){var s=_;0==t.data.code&&s.getCommentList(_.sType,e,_.page,10,s.userId)}):this.judgeIslogn()},judgeIslogn:function(){var t=this;this.$confirm("Please log in first. Do you want to continue?","Tips",{confirmButtonText:"confirm ",cancelButtonText:"cancel",type:"warning"}).then(function(){t.$router.push("/login")})},getCommentSortingWay:function(){var t=this;Object(__WEBPACK_IMPORTED_MODULE_3__Ajax_modules_addComment__.d)().then(function(e){0==e.data.code&&(t.sTypeList=e.data.data)})},sortHandle:function(t){this.sType=t,this.getCommentList(this.sType,this.params.productId,this.page,10,this.userId)},canYouComment:function(t,e){var _=this;Object(__WEBPACK_IMPORTED_MODULE_3__Ajax_modules_addComment__.b)(t,e).then(function(t){0==t.data.code&&(_.isComment=t.data.data)})}},computed:__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({},Object(__WEBPACK_IMPORTED_MODULE_2_vuex__.c)(["userId"]),{currentClass:function(){return this.widthH>=768?"commentList":"commentList2"}})}}});
//# sourceMappingURL=18.6cb4d3f4a818a1f7ceb3.js.map