{"version":3,"sources":["webpack:///src/components/pages/addComment/addComment.vue","webpack:///./src/components/pages/addComment/addComment.vue?64a6","webpack:///./src/components/pages/addComment/addComment.vue"],"names":["addComment_addComment","name","data","dialogImageUrl","dialogVisible","texts2","imgUrl","widthH","params","grade","textarea","imgList","created","this","$root","$route","query","JSON","parse","console","log","methods","submit","_this","content","imgId","join","productId","orderId","userId","commentStar","Object","addComment","then","res","code","$message","message","type","$alert","confirmButtonText","addSuccess","event","file","fileList","concat","toConsumableArray_default","computed","extends_default","currentClass","vuex_esm","pages_addComment_addComment","render","_vm","_h","$createElement","_c","_self","class","staticClass","attrs","src","imgSrc","_v","_s","productName","productPrice","show-text","texts","model","value","callback","$$v","expression","rows","placeholder","action","list-type","on-success","visible","on","update:visible","$event","width","alt","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/27.86c58eb2959c4eef7d74.js","sourcesContent":["<template>\r\n  <div :class=\"currentClass\">\r\n    <div class=\"content\">\r\n      <div class=\"head\">\r\n        <img :src=\"imgUrl+params.imgSrc\">\r\n        <span class=\"title\">{{params.productName}}</span>\r\n        <span>${{params.productPrice}}</span>\r\n      </div>\r\n      <div class=\"pingfen\">\r\n        <span class=\"text\">grade</span>\r\n        <el-rate v-model=\"grade\" show-text :texts=\"texts2\"></el-rate>\r\n      </div>\r\n      <el-input\r\n        class=\"input\"\r\n        type=\"textarea\"\r\n        :rows=\"6\"\r\n        placeholder=\"Please describe your comments\"\r\n        v-model=\"textarea\"\r\n      ></el-input>\r\n      <span class=\"picture\">upload pictures</span>\r\n      <el-upload\r\n        class=\"upload\"\r\n        action=\"http://114.115.211.170:8080/web/file/upload\"\r\n        list-type=\"picture-card\"\r\n        :on-success=\"addSuccess\"\r\n      >\r\n        <i class=\"el-icon-plus\"></i>\r\n      </el-upload>\r\n      <el-dialog :visible.sync=\"dialogVisible\">\r\n        <img width=\"100%\" :src=\"dialogImageUrl\" alt>\r\n      </el-dialog>\r\n      <span class=\"btn\" @click=\"submit()\">submit</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { addComment } from \"@/Ajax/modules/addComment\";\r\nexport default {\r\n  name: \"addComment\",\r\n  data() {\r\n    return {\r\n      dialogImageUrl: \"\",\r\n      dialogVisible: false,\r\n      texts2: [\"1\", \"2\", \"3\", \"4\", \"5\"],\r\n      imgUrl: \"\",\r\n      widthH: \"\",\r\n      params: {}, //上个页面传进来的\r\n      grade: \"\", //评论几个星\r\n      textarea: \"\", //评论内容\r\n      imgList: []\r\n    };\r\n  },\r\n  created() {\r\n    this.imgUrl = this.$root.imgUrl;\r\n    this.widthH = this.$root.widthH;\r\n    if (this.$route.query.params) {\r\n      this.params = JSON.parse(this.$route.query.params);\r\n    }\r\n    console.log(JSON.parse(this.$route.query.params) );\r\n  },\r\n  methods: {\r\n    submit() {\r\n      if (this.content == \"\") {\r\n        this.$alert(\"Comments cannot be left blank\", \"Tips\", {\r\n          confirmButtonText: \"confirm\"\r\n        });\r\n        return;\r\n      }\r\n      let params = {\r\n        content: this.textarea,\r\n        imgId: this.imgList.join(), //评论图片（多个以逗号隔开）\r\n        productId: this.params.productId,\r\n        orderId: this.params.orderId,\r\n        userId: this.userId,\r\n        commentStar: this.grade\r\n      };\r\n      addComment(params).then(res => {\r\n        if (res.data.code == 0) {\r\n          this.$message({\r\n            message: \"Comment on success\",\r\n            type: \"success\"\r\n          });\r\n        }\r\n      });\r\n    },\r\n    addSuccess(event, file, fileList) {\r\n      this.imgList = [...this.imgList, event.data];\r\n    }\r\n  },\r\n  computed: {\r\n    currentClass() {\r\n      if (this.widthH >= 768) {\r\n        return \"addComment\";\r\n      } else {\r\n        return \"addComment2\";\r\n      }\r\n    },\r\n    ...mapState([\"userId\"])\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.addComment {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  .content {\r\n    margin-bottom: 30px;\r\n    width: 998px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    .head {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      img {\r\n        height: 200px;\r\n        width: 200px;\r\n      }\r\n      span {\r\n        font-weight: bold;\r\n        font-size: 22px;\r\n        font-family: \"regular\";\r\n        color: red;\r\n      }\r\n      .title {\r\n        margin-right: 200px;\r\n        font-size: 32px;\r\n        color: #231815;\r\n      }\r\n    }\r\n    .pingfen {\r\n      margin-bottom: 20px;\r\n      display: flex;\r\n      span {\r\n        margin-right: 20px;\r\n        font-weight: bold;\r\n        font-size: 16px;\r\n        font-family: \"regular\";\r\n      }\r\n    }\r\n    .picture {\r\n      margin: 20px 0;\r\n      font-weight: bold;\r\n      font-size: 16px;\r\n      font-family: \"regular\";\r\n    }\r\n    .btn {\r\n      font-weight: bold;\r\n      font-size: 16px;\r\n      font-family: \"regular\";\r\n      height: 50px;\r\n      width: 235px;\r\n      background-color: #ede945;\r\n      color: #231815;\r\n      border-radius: 5px;\r\n      text-align: center;\r\n      line-height: 50px;\r\n      margin: 20px auto;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n.addComment2 {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  .content {\r\n    margin-bottom: 0.3rem;\r\n    width: 90%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    .head {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      img {\r\n        height: 2rem;\r\n        width: 2.5rem;\r\n      }\r\n      span {\r\n        font-weight: bold;\r\n        font-size: 0.24rem;\r\n        font-family: \"regular\";\r\n        color: red;\r\n      }\r\n      .title {\r\n        margin-right: 0.25rem;\r\n        font-size: 0.34rem;\r\n        color: #231815;\r\n      }\r\n    }\r\n    .pingfen {\r\n      margin-bottom: 0.2rem;\r\n      display: flex;\r\n      align-items: center;\r\n      .text {\r\n        margin-right: 0.2rem;\r\n        font-weight: bold;\r\n        font-size: 0.18rem;\r\n        font-family: \"regular\";\r\n      }\r\n    }\r\n    .picture {\r\n      margin: 0.2rem 0;\r\n      font-weight: bold;\r\n      font-size: 0.18rem;\r\n      font-family: \"regular\";\r\n    }\r\n    .btn {\r\n      font-weight: bold;\r\n      font-size: 0.18rem;\r\n      font-family: \"regular\";\r\n      height: 0.7rem;\r\n      width: 80%;\r\n      background-color: #ede945;\r\n      color: #231815;\r\n      border-radius: 3px;\r\n      text-align: center;\r\n      line-height: 0.7rem;\r\n      margin: 20px auto;\r\n      cursor: pointer;\r\n    }\r\n    .el-rate {\r\n      height: 1rem;\r\n      margin-top: -0.4rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/addComment/addComment.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.currentClass},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"head\"},[_c('img',{attrs:{\"src\":_vm.imgUrl+_vm.params.imgSrc}}),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.params.productName))]),_vm._v(\" \"),_c('span',[_vm._v(\"$\"+_vm._s(_vm.params.productPrice))])]),_vm._v(\" \"),_c('div',{staticClass:\"pingfen\"},[_c('span',{staticClass:\"text\"},[_vm._v(\"grade\")]),_vm._v(\" \"),_c('el-rate',{attrs:{\"show-text\":\"\",\"texts\":_vm.texts2},model:{value:(_vm.grade),callback:function ($$v) {_vm.grade=$$v},expression:\"grade\"}})],1),_vm._v(\" \"),_c('el-input',{staticClass:\"input\",attrs:{\"type\":\"textarea\",\"rows\":6,\"placeholder\":\"Please describe your comments\"},model:{value:(_vm.textarea),callback:function ($$v) {_vm.textarea=$$v},expression:\"textarea\"}}),_vm._v(\" \"),_c('span',{staticClass:\"picture\"},[_vm._v(\"upload pictures\")]),_vm._v(\" \"),_c('el-upload',{staticClass:\"upload\",attrs:{\"action\":\"http://114.115.211.170:8080/web/file/upload\",\"list-type\":\"picture-card\",\"on-success\":_vm.addSuccess}},[_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),_vm._v(\" \"),_c('span',{staticClass:\"btn\",on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"submit\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2924b8e8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/addComment/addComment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2924b8e8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addComment.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addComment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addComment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2924b8e8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addComment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2924b8e8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/addComment/addComment.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}