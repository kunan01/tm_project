(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d4ce1a2"],{"27c6":function(t,e,s){"use strict";var i=s("86f0"),r=s.n(i);r.a},"2de9":function(t,e,s){"use strict";var i="http://114.115.211.170:8088/";e["a"]={IP:i,IMGURL:i+"system/file/showPicture?imageId=",LOGIN:i+"system/user/login",SHOP:i+"system/product/getProductList",SHOPDETAIL:i+"system/product/getProductListById",DELSHOP:i+"system/product/delProduct",ALLDELSHOP:i+"system/product/delProduct",DISCOUNT:i+"system/product/setProductDiscounts",DELSHOPLABAL:i+"system/product/delProductParam",DELSHOPPROP:i+"system/product/delProductProp",ADDSHOP:i+"system/product/addProduct",ADDSHOPLABAL:i+"system/product/addProductParam",ADDSHOPPROP:i+"system/product/addProductProp",EDOTSHOPPROP:i+"system/product/updProductProp",SHELVESSHOP:i+"system/product/shelvesProduct",THESHELVESSHOP:i+"system/product/theShelvesProduct",NEWSHOP:i+"system/product/setOrCancelNewProduct",PROPLIST:i+"system/shopProp/queryPropList",UPSHOP:i+"system/product/updProduct",SHUFFLING:i+"system/slides/getSlidesList",FREEZESHUFFLING:i+"system/slides/updSlides",DELSHUFFLING:i+"system/slides/delSlides",DELALLSHUFFLING:i+"system/slides/batchDeleteSlides",ADDSHUFFLING:i+"system/slides/addSlides",ALLCATEGORYLIST:i+"system/category/queryCateGoryList",CATEGORYLIST:i+"system/category/getCateGoryList",TWOCATEGORYLIST:i+"system/category/getCateGoryListByTwoLevel",ADDCATEGORY:i+"system/category/addCategory",UPCATEGORY:i+"system/category/updCategory",DELCATEGORY:i+"system/category/delCateGory",DELALLCATEGORY:i+"system/category/batchDelCateGory",ALLLABEL:i+"system/param/queryShopParamList",LABEL:i+"system/param/getShopParamKeyList",TLABEL:i+"system/param/getShopParamValueList",ADDLABEL:i+"system/param/addShopParamType",ADDTLABEL:i+"system/param/addShopParamValue",DELLABEL:i+"system/param/delShopParamType",DELTLABEL:i+"system/param/delShopParamValue",EDITLABEL:i+"system/param/updShopParamType",EDTITLABEL:i+"system/param/updShopParamValue",DELALLTABEL:i+"system/param/batchDelShopParamType",DELALLTTABEL:i+"system/param/batchDelShopParamValue",SPECKEY:i+"system/shopProp/getListKey",SPECVALUE:i+"system/shopProp/getListValue",ADDSPECKEY:i+"system/shopProp/addPropKey",ADDSPECVALUE:i+"system/shopProp/addPropValue",UPSPECKEY:i+"system/shopProp/updPropKey",UPSPECVALUE:i+"system/shopProp/updPropValue",DELSPECKEY:i+"system/shopProp/delPropKey",DELSPECVALUE:i+"system/shopProp/delPropValue",DELALLSPECKEY:i+"system/shopProp/batchDelPropKey",DELALLSPECVALUE:i+"system/shopProp/batchDelPropValue",DISTRIBUTION:i+"system/distribution/getStoreDistribution",ADDDISTRIBUTION:i+"system/distribution/addDistribution",UPDISTRIBUTION:i+"system/distribution/updateDistribution",DELDISTRIBUTION:i+"system/distribution/delDistribution",DELALLDISTRIBUTION:i+"system/distribution/batchDelDistribution",SERVICE:i+"system/support/getCustomerService",UPSERVICE:i+"system/support/updateCustomerService",HELP:i+"system/help/getSysHelpList",ADDHELP:i+"system/help/addHelp",UPHELP:i+"system/help/updateSysHelpList",DELHELP:i+"system/help/deleteSysHelpList",DELALLHELP:i+"system/help/batchDeleteSysHelpList",FEEDBACK:i+"system/support/getUsersMessageList",DEALWITHFEEDBACK:i+"system/support/dealWithMessage",DEALWITHALLFEEDBACK:i+"system/support/batchDealWithMessage",TREND:i+"system/trend/getTrendList",TRENDSHOP:i+"system/trend/getTrendProductList",ADDTRENDSHOP:i+"system/trend/addTrendProduct",ADDTREND:i+"system/trend/addTrend",ADDALLTRENDSHOP:i+"system/trend/batchAddTrendProduct",DELALLTREND:i+"system/trend/batchDelTrend",DELALLTRENDPRODUCT:i+"system/trend/batchDelTrendProduct",DELTREND:i+"system/trend/delTrendProduct",DELTRENDSHOP:i+"system/trend/delTrendProduct",UPTREND:i+"system/trend/updTrend",TRENDSHOPS:i+"system/product/getTrendProductList",POP:i+"system/advertising/getAdvertisingList",UPPOP:i+"system/advertising/updateAdvertising",SEARCHPOPSHOP:i+"system/product/getAdvertisingProductList",POPSHOP:i+"system/advertising/getAdvertisingProductList",POPSHOPS:i+"system/product/getAdvertisingProductList",ADDALLPOPSHOP:i+"system/advertising/batchAddAdvertisingProduct",DELPOPSHOP:i+"system/advertising/delAdvertisingProduct",DELALLPOPSHOP:i+"system/advertising/batchDelAdvertisingProduct"}},"86f0":function(t,e,s){},db5f:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 趋势页面数据展示")])],1)],1),s("div",{staticClass:"container"},[s("div",{staticClass:"handle-box"},[t._v("\n          tips:当前页面所传数据顺序对应pc端trend页面数据展示顺序\n        ")]),s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""}},[s("el-table-column",{attrs:{prop:"location",label:"顺序",sortable:"",width:"80",align:"center"}}),s("el-table-column",{attrs:{prop:"title",label:"标题",sortable:"",width:"150",align:"center","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"descript",label:"描述",width:"300",align:"center","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"product.productName",label:"商品名称",width:"100",align:"center","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{label:"标签图片",width:"600",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("img",{staticClass:"goods-img",attrs:{src:t.IMGURL+e.row.advertisingImage},on:{click:function(s){return t.previewImg(t.IMGURL+e.row.advertisingImage)}}})]}}])}),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.handleEdit(e.$index,e.row)}}},[t._v("修改")])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.totals},on:{"current-change":t.handleCurrentChange}})],1)],1),s("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"趋势分类"}},[s("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),s("el-form-item",{attrs:{label:"趋势描述"}},[s("el-input",{model:{value:t.form.descript,callback:function(e){t.$set(t.form,"descript",e)},expression:"form.descript"}})],1),s("el-form-item",{attrs:{label:"热门图片上传"}},[s("el-upload",{attrs:{action:t.IP+"system/file/upload","list-type":"picture-card","on-success":t.handleSuccess,"on-error":t.handleError,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"file-list":t.imgList,limit:t.imgMax}},[s("i",{staticClass:"el-icon-plus"})])],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"编辑",visible:t.editVisibles,width:"30%"},on:{"update:visible":function(e){t.editVisibles=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"热门图片上传"}},[s("el-upload",{attrs:{action:t.IP+"system/file/upload","list-type":"picture-card","on-success":t.handleSuccess,"on-error":t.handleError,"on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove,"file-list":t.imgList,limit:t.imgMax}},[s("i",{staticClass:"el-icon-plus"})])],1),s("span",[t._v("选择添加的商品：")]),s("el-select",{attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.form.productId,callback:function(e){t.$set(t.form,"productId",e)},expression:"form.productId"}},t._l(t.options4,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisibles=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),s("el-dialog",{staticStyle:{},attrs:{visible:t.previewDialogVisible,center:""},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[s("img",{staticClass:"preview-img",attrs:{src:t.previewImgUrl}})])],1)},r=[],a=(s("612f"),s("2de9")),o={name:"hot",data:function(){return{IMGURL:a["a"].IMGURL,IP:a["a"].IP,value:"",list:[],totals:10,url:"./vuetable.json",tableData:[],cur_page:1,previewDialogVisible:!1,previewImgUrl:"",multipleSelection:[],is_search:!1,editVisible:!1,delVisible:!1,delVisibles:!1,editVisibles:!1,form:{title:"",discript:"",advertisingImage:""},idx:-1,categoryId:"",pageSize:10,isModify:!1,imgList:[],imgMax:1,options4:[],value9:[],searchList:[],loading:!1,states:[]}},created:function(){this.getData()},watch:{value:function(t,e){}},computed:{},methods:{remoteMethod:function(t){""!==t?(console.log(123),this.loading=!0,this.getShop(t)):this.options4=[]},getShop:function(t){var e=this,s={sorting:"1"};t&&(s.productName=t),this.$axios.post(a["a"].SHOP,s,{headers:{token:sessionStorage.getItem("token")}}).then(function(s){"-30"==s.data.code&&(e.$message.error("登录超时，请重新登录！"),setTimeout(function(){e.$router.push("/login")},3e3)),0==s.data.code&&(e.states=s.data.data.list,setTimeout(function(){e.searchList=e.states.map(function(t){return{value:t.productId,label:t.productName}}),e.loading=!1,e.options4=e.searchList.filter(function(e){return console.log(e),e.label.indexOf(t)>-1})},200))})},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,e={pageSize:this.pageSize,pageNo:this.cur_page};this.$axios.get(a["a"].POP,{params:e,headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code&&(t.$message.error("登录超时，请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)),0==e.data.code&&(t.totals=e.data.data.total,t.tableData=e.data.data.list)})},previewImg:function(t){""!==t&&(this.previewDialogVisible=!0,this.previewImgUrl=t)},handlePictureCardPreview:function(t){""!==imgUrl&&(this.previewImgUrl=t.url,this.previewDialogVisible=!0)},handleSuccess:function(t,e,s){this.$message.success("图片上传成功"),this.form.advertisingImage=t.data,this.imgList[0]={url:e.url}},handleError:function(t,e,s){this.$message.error("图片上传失败")},handleRemove:function(t){var e=this;this.imgList.forEach(function(s,i,r){s.uid===t.uid&&(r.splice(i,1),e.form.advertisingImage="")})},handleEdit:function(t,e){this.form={raId:e.raId,location:e.location,title:e.title,descript:e.descript,advertisingImage:e.advertisingImage,productId:e.product?e.product.productName:""},this.imgList=[].concat({url:this.IMGURL+e.advertisingImage}),console.log(e),5==e.raId||6==e.raId?this.editVisibles=!0:this.editVisible=!0},saveEdit:function(){var t=this;this.$axios.post(a["a"].UPPOP,this.form,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code?(t.$message.error("登录超时，请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)):0==e.data.code&&(t.$message.success("修改成功！"),t.getData())}),this.editVisibles=!1,this.editVisible=!1}}},l=o,d=(s("27c6"),s("17cc")),n=Object(d["a"])(l,i,r,!1,null,"08292ebd",null);e["default"]=n.exports}}]);