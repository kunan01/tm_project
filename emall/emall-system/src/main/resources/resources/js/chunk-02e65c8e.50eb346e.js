(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02e65c8e"],{"2de9":function(t,e,s){"use strict";var o="http://114.115.211.170:8088/";e["a"]={IP:o,IMGURL:o+"system/file/showPicture?imageId=",LOGIN:o+"system/user/login",SHOP:o+"system/product/getProductList",SHOPDETAIL:o+"system/product/getProductListById",DELSHOP:o+"system/product/delProduct",ALLDELSHOP:o+"system/product/delProduct",DISCOUNT:o+"system/product/setProductDiscounts",DELSHOPLABAL:o+"system/product/delProductParam",DELSHOPPROP:o+"system/product/delProductProp",ADDSHOP:o+"system/product/addProduct",ADDSHOPLABAL:o+"system/product/addProductParam",ADDSHOPPROP:o+"system/product/addProductProp",EDOTSHOPPROP:o+"system/product/updProductProp",SHELVESSHOP:o+"system/product/shelvesProduct",THESHELVESSHOP:o+"system/product/theShelvesProduct",NEWSHOP:o+"system/product/setOrCancelNewProduct",PROPLIST:o+"system/shopProp/queryPropList",UPSHOP:o+"system/product/updProduct",SHUFFLING:o+"system/slides/getSlidesList",FREEZESHUFFLING:o+"system/slides/updSlides",DELSHUFFLING:o+"system/slides/delSlides",DELALLSHUFFLING:o+"system/slides/batchDeleteSlides",ADDSHUFFLING:o+"system/slides/addSlides",ALLCATEGORYLIST:o+"system/category/queryCateGoryList",CATEGORYLIST:o+"system/category/getCateGoryList",TWOCATEGORYLIST:o+"system/category/getCateGoryListByTwoLevel",ADDCATEGORY:o+"system/category/addCategory",UPCATEGORY:o+"system/category/updCategory",DELCATEGORY:o+"system/category/delCateGory",DELALLCATEGORY:o+"system/category/batchDelCateGory",ALLLABEL:o+"system/param/queryShopParamList",LABEL:o+"system/param/getShopParamKeyList",TLABEL:o+"system/param/getShopParamValueList",ADDLABEL:o+"system/param/addShopParamType",ADDTLABEL:o+"system/param/addShopParamValue",DELLABEL:o+"system/param/delShopParamType",DELTLABEL:o+"system/param/delShopParamValue",EDITLABEL:o+"system/param/updShopParamType",EDTITLABEL:o+"system/param/updShopParamValue",DELALLTABEL:o+"system/param/batchDelShopParamType",DELALLTTABEL:o+"system/param/batchDelShopParamValue",SPECKEY:o+"system/shopProp/getListKey",SPECVALUE:o+"system/shopProp/getListValue",ADDSPECKEY:o+"system/shopProp/addPropKey",ADDSPECVALUE:o+"system/shopProp/addPropValue",UPSPECKEY:o+"system/shopProp/updPropKey",UPSPECVALUE:o+"system/shopProp/updPropValue",DELSPECKEY:o+"system/shopProp/delPropKey",DELSPECVALUE:o+"system/shopProp/delPropValue",DELALLSPECKEY:o+"system/shopProp/batchDelPropKey",DELALLSPECVALUE:o+"system/shopProp/batchDelPropValue",DISTRIBUTION:o+"system/distribution/getStoreDistribution",ADDDISTRIBUTION:o+"system/distribution/addDistribution",UPDISTRIBUTION:o+"system/distribution/updateDistribution",DELDISTRIBUTION:o+"system/distribution/delDistribution",DELALLDISTRIBUTION:o+"system/distribution/batchDelDistribution",SERVICE:o+"system/support/getCustomerService",UPSERVICE:o+"system/support/updateCustomerService",HELP:o+"system/help/getSysHelpList",ADDHELP:o+"system/help/addHelp",UPHELP:o+"system/help/updateSysHelpList",DELHELP:o+"system/help/deleteSysHelpList",DELALLHELP:o+"system/help/batchDeleteSysHelpList",FEEDBACK:o+"system/support/getUsersMessageList",DEALWITHFEEDBACK:o+"system/support/dealWithMessage",DEALWITHALLFEEDBACK:o+"system/support/batchDealWithMessage",TREND:o+"system/trend/getTrendList",TRENDSHOP:o+"system/trend/getTrendProductList",ADDTRENDSHOP:o+"system/trend/addTrendProduct",ADDTREND:o+"system/trend/addTrend",ADDALLTRENDSHOP:o+"system/trend/batchAddTrendProduct",DELALLTREND:o+"system/trend/batchDelTrend",DELALLTRENDPRODUCT:o+"system/trend/batchDelTrendProduct",DELTREND:o+"system/trend/delTrendProduct",DELTRENDSHOP:o+"system/trend/delTrendProduct",UPTREND:o+"system/trend/updTrend",TRENDSHOPS:o+"system/product/getTrendProductList",POP:o+"system/advertising/getAdvertisingList",UPPOP:o+"system/advertising/updateAdvertising",SEARCHPOPSHOP:o+"system/product/getAdvertisingProductList",POPSHOP:o+"system/advertising/getAdvertisingProductList",POPSHOPS:o+"system/product/getAdvertisingProductList",ADDALLPOPSHOP:o+"system/advertising/batchAddAdvertisingProduct",DELPOPSHOP:o+"system/advertising/delAdvertisingProduct",DELALLPOPSHOP:o+"system/advertising/batchDelAdvertisingProduct"}},"5f9e":function(t,e,s){"use strict";var o=s("cbe4"),i=s.n(o);i.a},b2eb:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 商品管理")])],1)],1),s("div",{staticClass:"container"},[s("div",{staticClass:"handle-box"},[s("el-button",{staticClass:"handle-del mr10 float-r",attrs:{type:"primary",icon:"delete"},on:{click:t.delAll}},[t._v("批量删除")]),s("el-button",{staticClass:"handle-del mr10 float-r",attrs:{type:"primary",icon:"delete"},on:{click:t.discountAll}},[t._v("批量折扣")]),s("el-button",{staticClass:"handle-del mr10 ",attrs:{type:"primary",icon:"delete"},on:{click:t.addAll}},[t._v("添加")]),s("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"筛选关键词"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),s("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"productId",label:"编号",sortable:"",width:"100",align:"center"}}),s("el-table-column",{attrs:{prop:"productName",label:"商品名称",align:"center",width:"80"}}),s("el-table-column",{attrs:{prop:"price",label:"商品价格",sortable:"",align:"center",width:"130"}}),s("el-table-column",{attrs:{label:"商品图片",align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("img",{staticClass:"goods-img",attrs:{src:t.IMGURL+e.row.productImage},on:{click:function(s){return t.previewImg(t.IMGURL+e.row.productImage)}}})]}}])}),s("el-table-column",{attrs:{prop:"shelves",label:"是否上架",sortable:"",formatter:t.formatter,align:"center",width:"110"}}),s("el-table-column",{attrs:{prop:"descript",label:"商品描述",align:"center",width:"80","show-overflow-tooltip":""}}),s("el-table-column",{attrs:{prop:"disProportion",label:"商品折扣率",sortable:"",align:"center",width:"130"}}),s("el-table-column",{attrs:{prop:"totalStock",label:"总库存",sortable:"",align:"center",width:"110"}}),s("el-table-column",{attrs:{prop:"sellCount",label:"已售",sortable:"",align:"center",width:"80"}}),s("el-table-column",{attrs:{prop:"viewCount",label:"浏览量",sortable:"",align:"center",width:"110"}}),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.jump(e.$index,e.row)}}},[t._v("更多信息")]),s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.discount(e.$index,e.row)}}},[t._v("折扣")]),0===e.row.publishStatus?s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.shelvesEdit(e.$index,e.row)}}},[t._v("上架")]):s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.theShelvesEdit(e.$index,e.row)}}},[t._v("下架")]),0===e.row.isNew?s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.isNewEdit(e.$index,e.row)}}},[t._v("设为新品")]):s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.isNewEdit(e.$index,e.row)}}},[t._v("取消新品")]),s("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(s){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.totals},on:{"current-change":t.handleCurrentChange}})],1)],1),s("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"20%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"折扣率"}},[s("el-input",{staticStyle:{width:"140px"},attrs:{max:"100",min:"0",type:"number"},model:{value:t.form.disProportion,callback:function(e){t.$set(t.form,"disProportion",t._n(e))},expression:"form.disProportion"}},[s("template",{slot:"append"},[t._v("%")])],2)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[s("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"提示",visible:t.delVisibles,width:"300px",center:""},on:{"update:visible":function(e){t.delVisibles=e}}},[s("div",{staticClass:"del-dialog-cnt"},[t._v("确认批量删除，删除不可恢复，是否确定删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.delVisibles=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.deleteRows}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"预览",visible:t.previewDialogVisible,width:"50%",center:""},on:{"update:visible":function(e){t.previewDialogVisible=e}}},[s("img",{staticClass:"preview-img",attrs:{src:t.previewImgUrl}})])],1)},i=[],a=s("2de9"),r={name:"shop",data:function(){return{url:"",tableData:[],cur_page:1,pageSize:10,multipleSelection:[],select_cate:"",select_word:"",del_list:[],editVisible:!1,delVisible:!1,delVisibles:!1,previewImgUrl:"",previewDialogVisible:!1,IMGURL:a["a"].IMGURL,form:{name:"",date:"",address:""},productId:"",totals:1,isModel:!1}},created:function(){this.getData()},computed:{},methods:{addAll:function(){this.$router.push({path:"./addShop"})},jump:function(t,e){console.log(e),this.$router.push({path:"./shopDetail",query:{id:e.productId}})},previewImg:function(t){""!==t&&(this.previewDialogVisible=!0,this.previewImgUrl=t)},handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(t){var e=this,s={sorting:1,pageSize:this.pageSize,pageNo:this.cur_page};t&&(s.productName=t),this.$axios.post(a["a"].SHOP,s,{headers:{token:sessionStorage.getItem("token")}}).then(function(t){"-30"==t.data.code&&(e.$message.error("登录超时，请重新登录！"),setTimeout(function(){e.$router.push("/login")},3e3)),0==t.data.code&&(e.totals=t.data.data.total,e.tableData=t.data.data.list)})},search:function(){console.log(this.select_word),this.getData(this.select_word)},formatter:function(t,e){return 1===t.publishStatus?"已上架":"未上架"},shelvesEdit:function(t,e){var s=this,o={productId:e.productId};this.$axios.post(a["a"].SHELVESSHOP,o,{headers:{token:sessionStorage.getItem("token")}}).then(function(t){"-30"==t.data.code&&(s.$message.error("登录超时！请重新登录！"),setTimeout(function(){s.$router.push("/login")},3e3)),0==t.data.code&&s.getData()})},theShelvesEdit:function(t,e){var s=this,o={productId:e.productId};this.$axios.post(a["a"].THESHELVESSHOP,o,{headers:{token:sessionStorage.getItem("token")}}).then(function(t){"-30"==t.data.code&&(s.$message.error("登录超时！请重新登录！"),setTimeout(function(){s.$router.push("/login")},3e3)),0==t.data.code&&s.getData()})},isNewEdit:function(t,e){var s=this,o=null;o=0==e.isNew?1:0,this.$axios.post(a["a"].NEWSHOP+"?productId="+e.productId+"&isNew="+o,{},{headers:{token:sessionStorage.getItem("token")}}).then(function(t){"-30"!=t.data.code?0==t.data.code&&s.getData():s.$message.error("登录超时！请重新登录！")})},discount:function(t,e){this.productId=e.productId,this.form={disProportion:e.disProportion},this.editVisible=!0},discountAll:function(){this.multipleSelection.length&&(this.isModel=!0,this.form={disProportion:100},this.editVisible=!0)},handleDelete:function(t,e){this.productId=e.productId,this.delVisible=!0},deleteRow:function(){var t=this,e={productIdList:[this.productId]};this.$axios.post(a["a"].DELSHOP,e,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code&&(t.$message.success("登录超时！请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)),-2==e.data.code&&t.$message.error(e.data.data),0==e.data.code&&t.getData()}),this.delVisible=!1},delAll:function(){this.multipleSelection.length&&(this.delVisibles=!0)},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.map(function(t){return e.multipleSelection.push(t.productId)}),console.log(this.multipleSelection)},deleteRows:function(){var t=this,e={productIdList:this.multipleSelection};console.log(e),this.$axios.post(a["a"].DELSHOP,e,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code?(t.$message.success("登录超时！请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)):0==e.data.code?t.getData():-2==e.data.code&&(t.$message.error(e.data.data),t.getData())}),this.delVisibles=!1},saveEdit:function(){var t=this,e={};e=this.isModel?{discount:this.form.disProportion,productIdList:this.multipleSelection}:{productIdList:[this.productId],discount:this.form.disProportion},this.$axios.post(a["a"].DISCOUNT,e,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code&&(t.$message.success("登录超时！请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)),-2==e.data.code&&t.$message.error(e.data.data),0==e.data.code&&(t.editVisible=!1,t.getData())})}}},l=r,d=(s("5f9e"),s("17cc")),n=Object(d["a"])(l,o,i,!1,null,"47a30eb6",null);e["default"]=n.exports},cbe4:function(t,e,s){}}]);