(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93ec5696"],{"2de9":function(t,e,s){"use strict";var a="http://114.115.211.170:8088/";e["a"]={IP:a,IMGURL:a+"system/file/showPicture?imageId=",LOGIN:a+"system/user/login",SHOP:a+"system/product/getProductList",SHOPDETAIL:a+"system/product/getProductListById",DELSHOP:a+"system/product/delProduct",ALLDELSHOP:a+"system/product/delProduct",DISCOUNT:a+"system/product/setProductDiscounts",DELSHOPLABAL:a+"system/product/delProductParam",DELSHOPPROP:a+"system/product/delProductProp",ADDSHOP:a+"system/product/addProduct",ADDSHOPLABAL:a+"system/product/addProductParam",ADDSHOPPROP:a+"system/product/addProductProp",EDOTSHOPPROP:a+"system/product/updProductProp",SHELVESSHOP:a+"system/product/shelvesProduct",THESHELVESSHOP:a+"system/product/theShelvesProduct",NEWSHOP:a+"system/product/setOrCancelNewProduct",PROPLIST:a+"system/shopProp/queryPropList",UPSHOP:a+"system/product/updProduct",SHUFFLING:a+"system/slides/getSlidesList",FREEZESHUFFLING:a+"system/slides/updSlides",DELSHUFFLING:a+"system/slides/delSlides",DELALLSHUFFLING:a+"system/slides/batchDeleteSlides",ADDSHUFFLING:a+"system/slides/addSlides",ALLCATEGORYLIST:a+"system/category/queryCateGoryList",CATEGORYLIST:a+"system/category/getCateGoryList",TWOCATEGORYLIST:a+"system/category/getCateGoryListByTwoLevel",ADDCATEGORY:a+"system/category/addCategory",UPCATEGORY:a+"system/category/updCategory",DELCATEGORY:a+"system/category/delCateGory",DELALLCATEGORY:a+"system/category/batchDelCateGory",ALLLABEL:a+"system/param/queryShopParamList",LABEL:a+"system/param/getShopParamKeyList",TLABEL:a+"system/param/getShopParamValueList",ADDLABEL:a+"system/param/addShopParamType",ADDTLABEL:a+"system/param/addShopParamValue",DELLABEL:a+"system/param/delShopParamType",DELTLABEL:a+"system/param/delShopParamValue",EDITLABEL:a+"system/param/updShopParamType",EDTITLABEL:a+"system/param/updShopParamValue",DELALLTABEL:a+"system/param/batchDelShopParamType",DELALLTTABEL:a+"system/param/batchDelShopParamValue",SPECKEY:a+"system/shopProp/getListKey",SPECVALUE:a+"system/shopProp/getListValue",ADDSPECKEY:a+"system/shopProp/addPropKey",ADDSPECVALUE:a+"system/shopProp/addPropValue",UPSPECKEY:a+"system/shopProp/updPropKey",UPSPECVALUE:a+"system/shopProp/updPropValue",DELSPECKEY:a+"system/shopProp/delPropKey",DELSPECVALUE:a+"system/shopProp/delPropValue",DELALLSPECKEY:a+"system/shopProp/batchDelPropKey",DELALLSPECVALUE:a+"system/shopProp/batchDelPropValue",DISTRIBUTION:a+"system/distribution/getStoreDistribution",ADDDISTRIBUTION:a+"system/distribution/addDistribution",UPDISTRIBUTION:a+"system/distribution/updateDistribution",DELDISTRIBUTION:a+"system/distribution/delDistribution",DELALLDISTRIBUTION:a+"system/distribution/batchDelDistribution",SERVICE:a+"system/support/getCustomerService",UPSERVICE:a+"system/support/updateCustomerService",HELP:a+"system/help/getSysHelpList",ADDHELP:a+"system/help/addHelp",UPHELP:a+"system/help/updateSysHelpList",DELHELP:a+"system/help/deleteSysHelpList",DELALLHELP:a+"system/help/batchDeleteSysHelpList",FEEDBACK:a+"system/support/getUsersMessageList",DEALWITHFEEDBACK:a+"system/support/dealWithMessage",DEALWITHALLFEEDBACK:a+"system/support/batchDealWithMessage",TREND:a+"system/trend/getTrendList",TRENDSHOP:a+"system/trend/getTrendProductList",ADDTRENDSHOP:a+"system/trend/addTrendProduct",ADDTREND:a+"system/trend/addTrend",ADDALLTRENDSHOP:a+"system/trend/batchAddTrendProduct",DELALLTREND:a+"system/trend/batchDelTrend",DELALLTRENDPRODUCT:a+"system/trend/batchDelTrendProduct",DELTREND:a+"system/trend/delTrendProduct",DELTRENDSHOP:a+"system/trend/delTrendProduct",UPTREND:a+"system/trend/updTrend",TRENDSHOPS:a+"system/product/getTrendProductList",POP:a+"system/advertising/getAdvertisingList",UPPOP:a+"system/advertising/updateAdvertising",SEARCHPOPSHOP:a+"system/product/getAdvertisingProductList",POPSHOP:a+"system/advertising/getAdvertisingProductList",POPSHOPS:a+"system/product/getAdvertisingProductList",ADDALLPOPSHOP:a+"system/advertising/batchAddAdvertisingProduct",DELPOPSHOP:a+"system/advertising/delAdvertisingProduct",DELALLPOPSHOP:a+"system/advertising/batchDelAdvertisingProduct"}},6266:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"table"},[s("div",{staticClass:"crumbs"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",[s("i",{staticClass:"el-icon-lx-cascades"}),t._v("帮助二级导航")])],1)],1),s("div",{staticClass:"container"},[s("el-select",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请选择"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.list,function(t){return s("el-option",{key:t.helpId,attrs:{label:t.helpTitle,value:t.helpId}})}),1),s("div",{staticClass:"handle-box"},[s("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.addSlide}},[t._v("增加")]),s("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.delAll}},[t._v("批量删除")])],1),s("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),s("el-table-column",{attrs:{prop:"helpId",label:"分类ID",sortable:"",width:"150",align:"center"}}),s("el-table-column",{attrs:{prop:"helpTitle",label:"子类目",sortable:"",width:"300",align:"center"}}),s("el-table-column",{attrs:{prop:"helpInstructions",label:"子类目说明",sortable:"",width:"500",align:"center"}}),s("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(s){return t.handleEdit(e.$index,e.row)}}},[t._v("修改")]),s("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(s){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),s("div",{staticClass:"pagination"},[s("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.totals},on:{"current-change":t.handleCurrentChange}})],1)],1),s("el-dialog",{attrs:{title:"编辑",visible:t.editVisible,width:"30%"},on:{"update:visible":function(e){t.editVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"帮助类目"}},[s("el-input",{model:{value:t.form.helpTitle,callback:function(e){t.$set(t.form,"helpTitle",e)},expression:"form.helpTitle"}})],1),t._l(t.form.lists,function(e,a){return s("el-form-item",{key:a,attrs:{label:"帮助类目说明"}},[s("el-input",{model:{value:e.key,callback:function(s){t.$set(e,"key",s)},expression:"item.key"}})],1)})],2),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.editVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"增加",visible:t.addVisible,width:"40%"},on:{"update:visible":function(e){t.addVisible=e}}},[s("el-form",{ref:"form",attrs:{model:t.formData,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"帮助类目"}},[s("el-input",{model:{value:t.formData.helpTitle,callback:function(e){t.$set(t.formData,"helpTitle",e)},expression:"formData.helpTitle"}})],1),t._l(t.formData.lists,function(e,a){return s("el-form-item",{key:a,attrs:{label:"帮助类目说明"}},[s("el-input",{model:{value:e.key,callback:function(s){t.$set(e,"key",s)},expression:"item.key"}}),s("el-button",{on:{click:function(e){return e.preventDefault(),t.addDomain(e)}}},[t._v("新增")]),s("el-button",{on:{click:function(s){return s.preventDefault(),t.removeDomain(e)}}},[t._v("删除")])],1)})],2),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.addVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.saveEdit}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[s("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),s("el-dialog",{attrs:{title:"提示",visible:t.delVisibles,width:"300px",center:""},on:{"update:visible":function(e){t.delVisibles=e}}},[s("div",{staticClass:"del-dialog-cnt"},[t._v("确认批量删除，删除不可恢复，是否确定删除？")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.delVisibles=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.deleteRows}},[t._v("确 定")])],1)])],1)},i=[],o=(s("ea65"),s("2de9")),l={name:"twoHelp",data:function(){return{totals:10,url:"./vuetable.json",tableData:[],cur_page:1,multipleSelection:[],is_search:!1,editVisible:!1,addVisible:!1,delVisible:!1,delVisibles:!1,form:{lists:[],helpTitle:""},formData:{lists:[{key:""}],helpTitle:""},categoryId:"",pageSize:10,isModify:!1,value:"",list:[]}},created:function(){this.getlist()},watch:{value:function(t,e){this.getData(t)}},computed:{},methods:{addDomain:function(){this.formData.lists.push({key:""})},removeDomain:function(t){var e=this.formData.lists.indexOf(t);-1!==e&&this.formData.lists.splice(e,1)},addSlide:function(){this.formData={lists:[{key:""}],helpTitle:""},this.isModify=!1,this.addVisible=!0},handleCurrentChange:function(t){this.cur_page=t,this.getData(this.value)},getlist:function(){var t=this,e={level:1,isPage:0};this.$axios.get(o["a"].HELP,{params:e,headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code&&(t.$message.error("登录超时，请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)),0==e.data.code&&(t.list=e.data.data.list,t.value=t.list[0].helpId)})},getData:function(t){var e=this;console.log(t);var s={level:2,isPage:1,parentId:t,pageSize:this.pageSize,pageNo:this.cur_page};this.$axios.get(o["a"].HELP,{params:s,headers:{token:sessionStorage.getItem("token")}}).then(function(t){"-30"==t.data.code&&(e.$message.error("登录超时，请重新登录！"),setTimeout(function(){e.$router.push("/login")},3e3)),0==t.data.code&&(e.tableData=t.data.data.list,e.totals=t.data.data.total)})},handleEdit:function(t,e){var s=this;this.tableData[t];this.form.lists=[];var a=e.helpInstructions.split(",");a.map(function(t,e){var a={key:t};s.form.lists.push(a)}),this.form.helpTitle=e.helpTitle,this.form.helpId=e.helpId,console.log(this.form),this.isModify=!0,this.editVisible=!0},handleDelete:function(t,e){this.delVisible=!0,this.categoryId=e.helpId},delAll:function(){this.multipleSelection.length&&(this.delVisibles=!0)},handleSelectionChange:function(t){var e=this;this.multipleSelection=[],t.map(function(t){return e.multipleSelection.push(t.helpId)})},deleteRow:function(){var t=this,e={helpId:this.categoryId};this.$axios.get(o["a"].DELHELP,{params:e,headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code&&(t.$message.success("登录超时！请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)),0==e.data.code&&t.getData(t.value)}),this.delVisible=!1},deleteRows:function(){var t=this,e={helpIdList:this.multipleSelection};console.log(e),this.$axios.post(o["a"].DELALLHELP,e,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code?(t.$message.success("登录超时！请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)):0==e.data.code?t.getData(t.value):t.$message.error("删除失败")}),this.delVisibles=!1},saveEdit:function(){var t=this;if(this.isModify){var e="";this.form.lists.map(function(t){return e+=t.key+","}),e.length>0&&(e=e.substr(0,e.length-1)),this.form.helpInstructions=e,this.$axios.post(o["a"].UPHELP,this.form,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code?(t.$message.error("登录超时，请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)):0==e.data.code&&(t.$message.success("修改成功！"),t.getData(t.value))}),this.editVisible=!1}else{console.log(this.formData);var s="";this.formData.lists.map(function(t){return s+=t.key+","}),s.length>0&&(s=s.substr(0,s.length-1));var a={helpTitle:this.formData.helpTitle,helpInstructions:s,level:2,parentId:this.value};this.$axios.post(o["a"].ADDHELP,a,{headers:{token:sessionStorage.getItem("token")}}).then(function(e){"-30"==e.data.code?(t.$message.error("登录超时，请重新登录！"),setTimeout(function(){t.$router.push("/login")},3e3)):0==e.data.code&&(t.$message.success("新增成功！"),t.getData(t.value))}),this.addVisible=!1}}}},r=l,n=(s("ab46"),s("17cc")),d=Object(n["a"])(r,a,i,!1,null,"2d4af1b4",null);e["default"]=d.exports},"85a0":function(t,e,s){},ab46:function(t,e,s){"use strict";var a=s("85a0"),i=s.n(a);i.a}}]);